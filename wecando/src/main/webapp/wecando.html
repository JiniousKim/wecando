<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="Dashboard">


<title>WECANDO</title>

<!-- Bootstrap core CSS -->
<link href="css/bootstrap.css" rel="stylesheet">
<!--external css-->
<link href="font-awesome/css/font-awesome.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="css/zabuto_calendar.css">
<link rel="stylesheet" type="text/css"
	href="js/gritter/css/jquery.gritter.css" />
<link rel="stylesheet" type="text/css" href="lineicons/style.css">
<link rel="shortcut icon" type="image/x-icon" href="img/logo.png" />

<!-- Custom styles for this template -->
<link href="css/style.css" rel="stylesheet">
<link href="css/style-responsive.css" rel="stylesheet">
<link rel="stylesheet" type="text/css"
	href="lib/sweetalert/sweetalert.css">
<script src="js/chart-master/Chart.js"></script>

<link rel='stylesheet' href='fullcalendar/fullcalendar.css' />
</head>
<body>
	<div id="login-page">
		<div class="container">
			<!-- Modal -->
			<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog"
				id="myModal1" class="modal fade">
				<form class="form-login">
					<div class="modal-header" style="background-color: #2b4e55;">
						<h2 style="background-color: #2b4e55;" class="form-login-heading">sign
							in now</h2>
					</div>
					<div class="login-wrap">
						<div class="input-ikon">
							<i class='fa fa-user sc'></i>
						</div>
						<input type="text" id="m_email" class="f-c i-t"
							placeholder="User ID" autofocus> <br>
						<div class='input-ikon2'>
							<i class='fa fa-lock sc'></i>
						</div>
						<input type="password" id="m_password" class="f-c i-t"
							placeholder="Password">
						<div style='margin-top: 30px;'>
							<div class='b-s'>
								<button class="btn btn-block bh" type="button"
									onclick="login();">LOGIN</button>
							</div>
							<div class="b-s1">
								<button type='button' class="btn bh btn-block" onclick="join();">SIGN
									UP</button>
							</div>
							<hr>
						</div>
					</div>
				</form>
			</div>
			<!-- modal -->

		</div>
	</div>

	<section id="container" class="sidebar-closed">
		<header class="header black-bg">
			<div class="sidebar-toggle-box">
				<div class="fa fa-bars tooltips" data-placement="right"
					data-original-title="Toggle Navigation"></div>
			</div>
			<a href="wecando.html" class="logo"> <img id="wecando_white"
				src="img/wecando_white.png">
			</a>
			<div class="nav notify-row" id="top_menu">
				<ul class="nav top-menu">
					<li class="dropdown"><a data-toggle="dropdown"
						class="dropdown-toggle" href="wecando.html#"> <i
							class="fa fa-tasks"></i> <span class="badge bg-theme">4</span>
					</a>
						<ul class="dropdown-menu extended tasks-bar">
							<div class="notify-arrow notify-arrow-green"></div>
							<li>
								<p class="green">You have 4 pending tasks</p>
							</li>
							<li><a href="wecando.html#">
									<div class="task-info">
										<div class="desc">DashGum Admin Panel</div>
										<div class="percent">40%</div>
									</div>
									<div class="progress progress-striped">
										<div class="progress-bar progress-bar-success"
											role="progressbar" aria-valuenow="40" aria-valuemin="0"
											aria-valuemax="100" style="width: 40%">
											<span class="sr-only">40% Complete (success)</span>
										</div>
									</div>
							</a></li>
							<li><a href="wecando.html#">
									<div class="task-info">
										<div class="desc">Database Update</div>
										<div class="percent">60%</div>
									</div>
									<div class="progress progress-striped">
										<div class="progress-bar progress-bar-warning"
											role="progressbar" aria-valuenow="60" aria-valuemin="0"
											aria-valuemax="100" style="width: 60%">
											<span class="sr-only">60% Complete (warning)</span>
										</div>
									</div>
							</a></li>
							<li><a href="wecando.html#">
									<div class="task-info">
										<div class="desc">Product Development</div>
										<div class="percent">80%</div>
									</div>
									<div class="progress progress-striped">
										<div class="progress-bar progress-bar-info" role="progressbar"
											aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"
											style="width: 80%">
											<span class="sr-only">80% Complete</span>
										</div>
									</div>
							</a></li>
							<li><a href="wecando.html#">
									<div class="task-info">
										<div class="desc">Payments Sent</div>
										<div class="percent">70%</div>
									</div>
									<div class="progress progress-striped">
										<div class="progress-bar progress-bar-danger"
											role="progressbar" aria-valuenow="70" aria-valuemin="0"
											aria-valuemax="100" style="width: 70%">
											<span class="sr-only">70% Complete (Important)</span>
										</div>
									</div>
							</a></li>
							<li class="external"><a href="#">See All Tasks</a></li>
						</ul></li>
					<li id="header_inbox_bar" class="dropdown"><a
						data-toggle="dropdown" class="dropdown-toggle"
						href="wecando.html#"> <i class="fa fa-envelope-o"></i> <span
							class="badge bg-theme">5</span>
					</a>
						<ul class="dropdown-menu extended inbox">
							<div class="notify-arrow notify-arrow-green"></div>
							<li>
								<p class="green">You have 5 new messages</p>
							</li>
							<li><a href="wecando.html#"> <span class="photo"><img
										alt="avatar" src="img/ui-zac.jpg"></span> <span class="subject">
										<span class="from">Zac Snider</span> <span class="time">Just
											now</span>
								</span> <span class="message"> Hi mate, how is everything? </span>
							</a></li>
							<li><a href="wecando.html#"> <span class="photo"><img
										alt="avatar" src="img/ui-divya.jpg"></span> <span
									class="subject"> <span class="from">Divya Manian</span>
										<span class="time">40 mins.</span>
								</span> <span class="message"> Hi, I need your help with this. </span>
							</a></li>
							<li><a href="wecando.html#"> <span class="photo"><img
										alt="avatar" src="img/ui-danro.jpg"></span> <span
									class="subject"> <span class="from">Dan Rogers</span> <span
										class="time">2 hrs.</span>
								</span> <span class="message"> Love your new Dashboard. </span>
							</a></li>
							<li><a href="wecando.html#"> <span class="photo"><img
										alt="avatar" src="img/ui-sherman.jpg"></span> <span
									class="subject"> <span class="from">Dj Sherman</span> <span
										class="time">4 hrs.</span>
								</span> <span class="message"> Please, answer asap. </span>
							</a></li>
							<li><a href="wecando.html#">See all messages</a></li>
						</ul></li>
				</ul>
			</div>
			<!-- login 버튼 스크립트로 내려서 login and logout 구현 -->
			<div class="top-menu" id='login_ava'></div>
		</header>
		<aside>
			<div id="sidebar" class="nav-collapse">
				<ul class="sidebar-menu" id="nav-accordion">
					<li class="sub-menu"><a href="javascript:;"> <i
							class="fa fa-calendar"></i> <span>예약 정보</span>
					</a>
						<ul class="sub">
							<li><a href="general.html">내 예약정보</a></li>
							<li><a href="buttons.html">신청된 정보</a></li>
						</ul></li>

					<li class="sub-menu"><a href="javascript:;"> <i
							class="fa fa-user"></i> <span>마이 페이지</span>
					</a>
						<ul class="sub" id='sub_menu'>
							<li><a href="info/memberInfo.html">내 정보</a></li>
							<li><a href="todo_list.html">Todo List</a></li>
						</ul></li>
				</ul>
			</div>
		</aside>
		<section class='wrapper' id="main-content">
				<div class="col-lg-3 ds">
					<!-- / calendar -->
					<h3>지역 선택</h3>
					<div id="map" class="row mt">
                    <img class='location_seoul' src="img/location/seoul.png">
                    <img id='dobong' style='display:none;' class='location_seoul_gu' src="img/location/dobong.png">
                    <img id='dongdaemun' style='display:none;' class='location_seoul_gu' src="img/location/dongdaemun.png">
                    <img id='dongjak' style='display:none;' class='location_seoul_gu' src="img/location/dongjak.png">
                    <img id='eunpyeong' style='display:none;' class='location_seoul_gu' src="img/location/eunpyeong.png">
                    <img id='gangbuk' style='display:none;' class='location_seoul_gu' src="img/location/gangbuk.png">
                    <img id='gangdong' style='display:none;' class='location_seoul_gu' src="img/location/gangdong.png">
                    <img id='gangnam' style='display:none;' class='location_seoul_gu' src="img/location/gangnam.png">
                    <img id='gangseo' style='display:none;' class='location_seoul_gu' src="img/location/gangseo.png">
                    <img id='geumcheon' style='display:none;' class='location_seoul_gu' src="img/location/geumcheon.png">
                    <img id='guro' style='display:none;' class='location_seoul_gu' src="img/location/guro.png">
                    <img id='gwanak' style='display:none;' class='location_seoul_gu' src="img/location/gwanak.png">
                    <img id='gwangjin' style='display:none;' class='location_seoul_gu' src="img/location/gwangjin.png">
                    <img id='jongno' style='display:none;' class='location_seoul_gu' src="img/location/jongno.png">
                    <img id='junggu' style='display:none;' class='location_seoul_gu' src="img/location/junggu.png">
                    <img id='jungnang' style='display:none;' class='location_seoul_gu' src="img/location/jungnang.png">
                    <img id='mapo' style='display:none;' class='location_seoul_gu' src="img/location/mapo.png">
                    <img id='nowon' style='display:none;' class='location_seoul_gu' src="img/location/nowon.png">
                    <img id='seocho' style='display:none;' class='location_seoul_gu' src="img/location/seocho.png">
                    <img id='seodaemun' style='display:none;' class='location_seoul_gu' src="img/location/seodaemun.png">
                    <img id='seongbuk' style='display:none;' class='location_seoul_gu' src="img/location/seongbuk.png">
                    <img id='seongdong' style='display:none;' class='location_seoul_gu' src="img/location/seongdong.png">
                    <img id='songpa' style='display:none;' class='location_seoul_gu' src="img/location/songpa.png">
                    <img id='ueongdeungpo' style='display:none;' class='location_seoul_gu' src="img/location/ueongdeungpo.png">
                    <img id='yangcheon' style='display:none;' class='location_seoul_gu' src="img/location/yangcheon.png">
                    <img id='yongsan' style='display:none;' class='location_seoul_gu' src="img/location/yongsan.png">
                    <div id='gu-btn-group'>
                        <button id='dobong-btn' class='gu-btn' style='left:181px; top:38px;' type="button">도봉구</button>
                        <button id='nowon-btn' class='gu-btn' style='left:181px; top:60px;' type="button">노원구</button>
                        <button id='gangbuk-btn' class='gu-btn' style='left:100px; top:59px;' type="button">강북구</button>
                        <button id='seongbuk-btn' class='gu-btn' style='left:70px; top:90px;' type="button">성북구</button>
                        <button id='eunpyeong-btn' class='gu-btn' style='left:-22px; top:63px;' type="button">은평구</button>
                        <button id='jongno-btn' class='gu-btn' style='left:-22px; top:103px;' type="button">종로구</button>
                        <button id='seodaemun-btn' class='gu-btn' style='left:-86px; top:103px;' type="button">서대문구</button>
                        <button id='jungnang-btn' class='gu-btn' style='left:-6px; top:90px;' type="button">중랑구</button>
                        <button id='dongdaemun-btn' class='gu-btn' style='width:40px; left:-73px; top:108px;' type="button">동대문구</button>
                        <button id='gangseo-btn' class='gu-btn' style='left:26px; top:85px;' type="button">강서구</button>
                        <button id='mapo-btn' class='gu-btn' style='left:51px; top:85px;' type="button">마포구</button>
                        <button id='junggu-btn' class='gu-btn' style='left:85px; top:90px;' type="button">중구</button>
                        <button id='seongdong-btn' class='gu-btn' style='left:86px; top:99px;' type="button">성동구</button>
                        <button id='gwangjin-btn' class='gu-btn' style='left:86px; top:103px;' type="button">광진구</button>
                        <button id='gangdong-btn' class='gu-btn' style='left:95px; top:98px;' type="button">강동구</button>
                        <button id='gangnam-btn' class='gu-btn' style=' top:145px;' type="button">강남구</button>
                        <button id='songpa-btn' class='gu-btn' style='left:2px; top:130px;' type="button">송파구</button>
                        <button id='yongsan-btn' class='gu-btn' style='left:-120px; top:110px;' type="button">용산구</button>
                        <button id='yangcheon-btn' class='gu-btn' style='left:50px; top:102px;' type="button">양천구</button>
                        <button id='ueongdeungpo-btn' class='gu-btn' style='width:35px;left:52px; top:102px;' type="button">영등포구</button>
                        <button id='dongjak-btn' class='gu-btn' style='left:45px; top:116px;' type="button">동작구</button>
                        <button id='seocho-btn' class='gu-btn' style='left:60px; top:137px;' type="button">서초구</button>
                        <button id='gwanak-btn' class='gu-btn' style='left:-20px; top:147px;' type="button">관악구</button>
                        <button id='geumcheon-btn' class='gu-btn' style='width:1px; left:-75px; top:137px;' type="button">금천구</button>
                        <button id='guro-btn' class='gu-btn' style='left:-125px; top:120px;' type="button">구로구</button>
                    </div>
                    
                    </div>
                    <div style='height: 30px;'>
                    </div>
                    <h3>날짜 선택</h3>
					<!-- CALENDAR-->
					<div id="calendar" class="mb">
						<div class="panel green-panel">
							<div class="panel-body">
								<div id="date-popover" class="popover top"
									style="cursor: pointer; disadding: block; margin-left: 33%; margin-top: -50px; width: 175px;">
									<div class="arrow"></div>
									<h3 class="popover-title" style="disadding: none;"></h3>
									<div id="date-popover-content" class="popover-content"></div>
								</div>
								<div id="my-calendar"></div>
							</div>
						</div>
					</div>
				</div>
        <div class="col-lg-3 ds dj">
          <div class="btn-group" id='eventlist' style='top:30px;'>
            <select id='event_list' name='ec' class='dropdown-toggle' data-toggle='dropdown' name='event_code'>
              <option class='dropdown-menu' selected>종목 선택</option>
            </select>
          </div>
          <div class='wecando'>
            <img style='width:400px; height:100px;' src="img/black_logo.png">
          </div>
          <hr>
          <div id='sch_list'>
            <div class='defaultDate'><input id='chooseDate' readonly></div>
        </div>
       </div> 
				<!-- /col-lg-3 -->
		</section>
		<footer class="site-footer">
		</footer>
	</section>


	<script src="js/jquery.js"></script>
	<script src="js/jquery-1.8.3.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script class="include" type="text/javascript"
		src="js/jquery.dcjqaccordion.2.7.js"></script>
	<script src="js/jquery.scrollTo.min.js"></script>
	<script src="js/jquery.nicescroll.js" type="text/javascript"></script>
	<script src="js/jquery.sparkline.js"></script>

	<script src="js/common-scripts.js"></script>

	<script type="text/javascript" src="js/gritter/js/jquery.gritter.js"></script>
	<script type="text/javascript" src="js/gritter-conf.js"></script>

	<script src="js/sparkline-chart.js"></script>
	<script src="js/zabuto_calendar.js"></script>
	<script src="lib/sweetalert/sweetalert.min.js"></script>
	<script src='lib/jquery.min.js'></script>
	<script src='lib/moment.min.js'></script>
	<script src='fullcalendar/fullcalendar.js'></script>
	<script type="text/javascript"
		src="//apis.daum.net/maps/maps3.js?apikey=90d863ade026cac74762f5c9d8c37284"></script>
	<script>
//		var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
//		mapOption = {
//			center : new daum.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
//			level : 3
//		// 지도의 확대 레벨
//		};
//
//		var map = new daum.maps.Map(mapContainer, mapOption);
	</script>

	<script type="application/javascript">
    var date;
    
    
    $(document).ready(function () {
        $("#date-popover").popover({html: true, trigger: "manual"});
        $("#date-popover").hide();
        $("#date-popover").click(function (e) {
            $(this).hide();
        });
        $("#my-calendar").zabuto_calendar({
            action: function () {
                var day = this.id.split('_');
                var selectedDay = day[3];
                document.getElementById('chooseDate').value = selectedDay;
                return myDateFunction(this.id, false);
            },
            action_nav: function () {
                return myNavFunction(this.id);
            }
        });
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!
        var yyyy = today.getFullYear();

        if(dd<10) {
            dd='0'+dd
        } 

        if(mm<10) {
            mm='0'+mm
        }
        

        date = yyyy + '-' + mm + '-' + dd;

        document.getElementById('chooseDate').value = date;
        
        /* $.ajax({
        	  url : contextRoot + '/info/ajax/schoolList.do',
        	  type : 'post',
        	  dataType : 'json',
        	  cache : false,
        	  processData : false,
        	  async : false,
        	  success : function(resultObj) {
        		  console.log(resultObj);
        		  var showSchool = $('#sch_list');
        		  for (var school in resultObj) {
	        		  showSchool.append("<div class='card'><div class='card_photo'>" +
	                              "<div class='card_title'><div class='card_name'> " +
	                              "<i class='fa fa-university'>&nbsp;" + askldfjlks + "</i></div>" +
	                              "<div class='card_time'><table class='time_table'>" +
	                              "<thead><tr><th>이용가능 시간</th><th>대관비용</th><th colspan='5px;'>사용가능 여부</th>" +
	                              "</tr></thead><tbody>"  +
	                              "<tr>" +
	                                "<td>06:00 ~ 08:00</td>" +
	                                "<td>" + + "</td>" +
	                                "<td>" + + "</td>" +
	                              "</tr> +
			                          "<tr>" +
			                            "<td>08:00 ~ 10:00</td>" +
			                            "<td>" + + "</td>" +
			                            "<td>" + + "</td>" +
			                          "</tr>" +
			                          "<tr>" +
		                              "<td>10:00 ~ 12:00</td>" +
		                              "<td>" + + "</td>" +
		                              "<td>" + + "</td>" +
		                            "</tr>" +
		                            "<tr>" +
		                              "<td>12:00 ~ 14:00</td>" +
		                              "<td>" + + "</td>" +
		                              "<td>" + + "</td>" +
		                            "</tr>" +
	                              "<tr>" +
	                                "<td>14:00 ~ 16:00</td>" +
	                                "<td>" + + "</td>" +
	                                "<td>" + + "</td>" +
	                              "</tr>" +
	                              "<tr>" +
	                                "<td>16:00 ~ 18:00</td>" +
	                                "<td>" + + "</td>" +
	                                "<td>" + + "</td>" +
	                              "</tr>" +
		                            "<tr>" +
			                            "<td>18:00 ~ 20:00</td>" +
			                            "<td>" + + "</td>" +
			                            "<td>" + + "</td>" +
			                          "</tr>" +
			                          "<tr>" +
				                          "<td>20:00 ~ 22:00</td>" +
				                          "<td>" + + "</td>" +
				                          "<td>" + + "</td>" +
				                        "</tr></tbody></table></div></div></div>")
        			  
        		  }
				  }
        }) */
        
        $.ajax({
         url : contextRoot + '/info/ajax/eventList.do',
         type : 'post',
         dataType : 'json',
         cache : false,
         processData : false,
         contentType : false,
         async : false,
         success : function(resultObj) {
           var list = $('#event_list');
           for(var event of resultObj.eventList) {
              list.append("<option value='" + event.event_code + "'>" + event.event_name + "</option>")
           }
         }
      })
        
       /*  <!-- 종목 등록 -->
        <!--
        $.ajax({
          url : contextRoot + '/member/ajax/setset.do',
          type : 'post',
          dataType : 'json',
          cache : false,
          success : function(e) {
            
          }
        }) --> */
    });
    function myNavFunction(id) {
        $("#date-popover").hide();
        var nav = $("#" + id).data("navigation");
        var to = $("#" + id).data("to");
        console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    }
    
    $.ajax({
        url : contextRoot + '/auth/ajax/check_session.do',
        type : 'post',
        dataType : 'json',
        cache : false,
        processData : false,
        contentType : false,
        async : false,
        success : function(resultObj) {
        	  var loginAva = $('#login_ava');
        	  var sM = $('#sub_menu');
          var ajaxresult = resultObj;
          if (ajaxresult.status == 'failure') {
        	  loginAva.append("<ul class='nav pull-right top-menu'>"
             + "<li><a class='logout' data-toggle='modal'"
             + "href='wecando.html#myModal1'>Login</a></li>"
             + "</ul>")
          } else {
        	   loginAva.append("<ul class='nav pull-right top-menu'>"
        			   + "<li><a class='logout'"
        			   + "href='' onclick='logout();'>Logout</a></li>"
        			   + "</ul>")
          } 
          if (ajaxresult.grade == 2) {
        	    sM.append(
        	     "<li><a href='info/register_school.html'>학교 정보</a></li>"		
        	    )
          }
        }
      })
     
	
	</script>
	<script>
        $(document).on("click", "#dddd", function() {
            date = 'asdf';
            $('#sch_list').append(date);
            document.getElementById('chooseDate').value = date;
        })
	  $('#myModal1').on('hide.bs.modal', function (e) {
      $('#m_email').html('');
      $('#m_password').html('');
      $('#m_email').val('');
      $('#m_password').val('');
	  })
	 $(document).on("click", "#gu-btn-group", function(e){
         var ID = e.target.getAttribute('id');
         var gu = ID.replace('-btn','');
         if( $('#' + gu).attr('class') == 'location_seoul_gu clicked') {
             $('#' + gu).fadeOut(1000);
             $('#' + ID).css('background-color','');
             $('#' + ID).css('color', 'black');
             $('#' + gu).removeClass('clicked');
         } else {
             $('#' + gu).fadeIn(1000);
             $('#' + ID).css('background-color','#ae1630');
             $('#' + ID).css('color', 'white');
             $('#' + gu).addClass('clicked');
         }
     })
		function logout() {
			$.ajax({
				url : contextRoot + '/auth/ajax/logout.do',
				type : 'post',
				dataType : 'json',
				cache : false,
				success : function(resultObj) {
					var ajaxresult = resultObj.AjaxResult;
					if (ajaxresult.status == 'success') {
						location	.replace("http://localhost:8080/wecando/login.html");
					} else {
						sweetAlert("Oops...", "Logout에 실패하였습니다.",	"error");
					}
				}
			})
		}

		function join() {
			location	.replace("http://localhost:8080/wecando/loginpage/auth.html");
		}

		function login() {
			var form_data = new FormData();
			form_data.append("m_email", $('#m_email').val());
			form_data.append("m_password", $('#m_password').val());
			$.ajax({
				url : contextRoot + '/auth/ajax/login.do',
				type : 'post',
				dataType : 'json',
				cache : false,
				contentType : false,
				processData : false,
				data : form_data,
				success : function(resultObj) {
					var ajaxResult = resultObj;
					if (ajaxResult.status == 'success') {
						location.replace("http://localhost:8080/wecando/wecando.html");
					} else {
						sweetAlert("Oops...","아이디 또는 비밀번호가 일치하지 않습니다.", "error");
					}
				},
				error : function(resultObj) {
					sweetAlert("Oops...", "아이디 또는 비밀번호가 일치하지 않습니다.","error");
				}
			})
		}
	</script>
</body>
</html>
